/* === PATCH V7 (paste at the VERY END of /assets/css/project_gac.css) ===
   Fixes:
   1) Top button "К БРИФУ" always ABOVE the black end panel
   2) Bottom button label is BLACK on white
   3) Text block top aligns with media top; media no longer vertically centered
   4) End panel overlaps the fixed top but remains a real last slide (not "popup")
*/

:root{
  --proj-header-h: 74px;
  --proj-pad-x: 28px;
  --proj-pad-top: 10px;
  --proj-pad-bot: 26px;
  --proj-gap: 16px;
}

/* Top becomes overlay */
.proj-top{
  position: fixed !important;
  top: 0; left: 0; right: 0;
  height: var(--proj-header-h) !important;
  z-index: 80 !important;
  background: transparent !important;
  pointer-events: none; /* only links clickable */
}
.proj-top .proj-back,
.proj-top .proj-brief{ pointer-events: auto; }

/* Brief button: always on top of EVERYTHING */
.proj-brief{
  position: fixed !important;
  top: 18px !important;
  right: var(--proj-pad-x) !important;
  z-index: 2147483647 !important;

  margin-left: 0 !important;

  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  line-height: 1 !important;

  background: #fff !important;
  color: #0b0b0f !important;
  border: 1px solid rgba(0,0,0,0.18) !important;
}

/* Track: disable snapping + allow overlap into header area */
.proj-track{
  gap: var(--proj-gap) !important;
  scroll-snap-type: none !important;
  scroll-behavior: auto !important;
  overflow-y: visible !important;
}

/* All normal slides keep a safe-area under fixed top */
.proj-slide{
  box-sizing: border-box !important;
  padding-top: var(--proj-header-h) !important;
}

/* Media slides: align to TOP (no vertical centering) */
.proj-media{
  place-items: start center !important;
}

/* Intro text aligns to the same top line as media */
.proj-intro__left{
  padding-top: 0 !important;
}

/* End slide overlaps the top and reaches the very bottom */
.proj-slide--end{
  position: relative !important;
  z-index: 120 !important;  /* above .proj-top */

  padding-top: 0 !important;
  margin-right: calc(var(--proj-pad-x) * -1) !important;

  /* cover track paddings => full height */
  margin-top: calc(-1 * var(--proj-pad-top)) !important;
  margin-bottom: calc(-1 * var(--proj-pad-bot)) !important;
  height: calc(100% + var(--proj-pad-top) + var(--proj-pad-bot)) !important;
}
.proj-end{
  height: 100% !important;
  border-radius: 0 !important;
}

/* Bottom button: white background + BLACK label */
.proj-end__actions a{
  background: #fff !important;
  color: #0b0b0f !important;
  border: 0 !important;
}

/* Mobile tweaks */
@media (max-width: 900px){
  :root{ --proj-pad-x: 16px; --proj-pad-bot: 18px; }
  .proj-brief{ top: 16px !important; right: var(--proj-pad-x) !important; }
}
