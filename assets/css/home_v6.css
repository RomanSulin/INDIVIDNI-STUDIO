/* =========================================================
   HOME V8 — premium editorial (HOME ONLY)
   Goal: expensive look + subtle interactivity.
   IMPORTANT: does NOT touch HERO (INDIVIDNI + TV).
   Scope: body.home only.
   ========================================================= */

body.home{
  --h-bg:#050506;
  --h-surface:#0b0b0d;
  --h-surface2:#111114;
  --h-border:rgba(255,255,255,.12);
  --h-border2:rgba(255,255,255,.18);
  --h-text:rgba(255,255,255,.92);
  --h-muted:rgba(255,255,255,.62);
  --h-accent:#e04633;
  --h-accent2:#ff5a3f;
  --h-radius:28px;
  --h-radius-lg:44px;

  background: var(--h-bg);
  color: var(--h-text);
  font-family: var(--font-main, "Manrope", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif);
}

/* keep HERO intact: NO selectors that touch .liquid-hero / .hero-tv */

/* header: remove glass (home only) */
body.home .header-shell{
  background: rgba(5,5,6,.96) !important;
  backdrop-filter: none !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  box-shadow: 0 22px 70px rgba(0,0,0,.62) !important;
}

body.home .nav-link{ opacity: .86; }
body.home .nav-link:hover{ opacity: 1; }

body.home .btn.btn--primary{
  background: var(--h-accent) !important;
  border-color: transparent !important;
}
body.home .btn.btn--primary:hover{ background: var(--h-accent2) !important; }

/* --------- page rhythm --------- */
body.home main > .section,
body.home main > section.section{
  padding: clamp(44px, 6vw, 96px) 0;
}

body.home .container{ max-width: 1320px; }

/* section head (editorial) */
body.home .section-head{ margin-bottom: clamp(18px, 2vw, 28px); }
body.home .section-kicker,
body.home .section-kicker, body.home .section-kicker *{ font-family: inherit; }
body.home .section-kicker{
  color: var(--h-muted);
  letter-spacing: .10em;
  text-transform: uppercase;
  font-size: 12px;
  margin: 0 0 10px;
}
body.home .section-title{
  font-family: var(--font-keep, "Syne", sans-serif);
  font-weight: 700;
  letter-spacing: .06em;
  text-transform: uppercase;
  line-height: .94;
  font-size: clamp(34px, 4.2vw, 66px);
  margin: 0;
}
body.home .section-sub{
  margin: 10px 0 0;
  color: var(--h-muted);
  max-width: 82ch;
  line-height: 1.55;
  font-size: 15px;
}

/* divider tape: keep, but make it feel like “film tape” */
body.home .tape,
body.home section.tape{
  padding: 14px 0;
  border-top: 1px solid rgba(255,255,255,.06);
  border-bottom: 1px solid rgba(255,255,255,.06);
  background: rgba(255,255,255,.01);
  overflow: hidden;
}
body.home [data-marquee] .tape-track,
body.home .tape-track{
  display: inline-flex;
  gap: 28px;
  white-space: nowrap;
  will-change: transform;
  animation: homeTapeMove 18s linear infinite;
  font-family: var(--font-keep, "Syne", sans-serif);
  text-transform: uppercase;
  letter-spacing: .12em;
  font-size: 13px;
  color: rgba(255,255,255,.52);
}
@keyframes homeTapeMove{ from{ transform: translateX(0); } to{ transform: translateX(-50%); } }

/* --------- premium hover: edge glow (NO cursor tracking) --------- */
body.home .fx-spotlight{ position: relative; }
body.home .fx-spotlight::before{ display:none !important; }

/* base “surface” utility for cards (only on home) */
body.home .card{
  background: var(--h-surface);
  border: 1px solid var(--h-border);
  border-radius: var(--h-radius);
}

/* Projects — fix grid (3 top / 2 bottom equal width, 16:9)
   Force with !important to kill older conflicting rules. */
body.home #projects .works-grid{
  display: grid !important;
  grid-template-columns: repeat(12, minmax(0, 1fr)) !important;
  gap: clamp(14px, 1.6vw, 22px) !important;
  margin-top: clamp(18px, 2vw, 28px) !important;
}

body.home #projects .work-card{
  grid-column: span 4 !important; /* 3 in a row */
  display: block;
  border-radius: var(--h-radius);
  background: var(--h-surface);
  border: 1px solid var(--h-border);
  overflow: hidden;
  transition: transform .22s ease, border-color .22s ease;
}
body.home #projects .work-card:hover{ transform: translateY(-3px); border-color: var(--h-border2); }

/* center second row (cards 4-5) keeping same width as top */
body.home #projects .work-card:nth-child(5n + 4){ grid-column: 3 / span 4 !important; }
body.home #projects .work-card:nth-child(5n + 5){ grid-column: 7 / span 4 !important; }

body.home #projects .work-media{ aspect-ratio: 16 / 9 !important; }
body.home #projects .work-media img{
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  display: block !important;
  transform: scale(1.01);
  transition: transform .50s ease;
}
body.home #projects .work-card:hover .work-media img{ transform: scale(1.06); }

/* caption becomes more editorial: text row + timecode */
body.home #projects .work-meta{
  padding: 14px 16px 16px !important;
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  font-family: var(--font-main, "Manrope", system-ui);
  font-weight: 600;
  letter-spacing: .02em;
}
body.home #projects .work-meta::after{
  content: attr(data-tc);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  letter-spacing: .14em;
  color: rgba(255,255,255,.48);
}

@media (max-width: 1060px){
  body.home #projects .works-grid{ grid-template-columns: repeat(2, minmax(0,1fr)) !important; }
  body.home #projects .work-card{ grid-column: auto !important; }
  body.home #projects .work-card:nth-child(5n + 4),
  body.home #projects .work-card:nth-child(5n + 5){ grid-column: auto !important; }
}
@media (max-width: 560px){
  body.home #projects .works-grid{ grid-template-columns: 1fr !important; }
}

/* Tabs — look expensive, not “chips everywhere” */
body.home #projects .works-tabs{
  gap: 10px;
  flex-wrap: nowrap;
  overflow-x: auto;
  padding-bottom: 6px;
  scrollbar-width: none;
}
body.home #projects .works-tabs::-webkit-scrollbar{ display:none; }
body.home #projects .works-tab{
  background: transparent;
  border: 1px solid rgba(255,255,255,.14);
  color: rgba(255,255,255,.70);
}
body.home #projects .works-tab.is-active{
  background: var(--h-accent);
  color: #0b0b0d;
  border-color: transparent;
}

/* --------- Services: kill “card spam”, keep one premium preview --------- */
body.home #services .services-split,
body.home #services .svc-split{ gap: clamp(14px, 2vw, 22px); }

/* list becomes editorial rows */
body.home .services-list,
body.home .svc-list{
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
}
body.home .svc-item{
  width: 100%;
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  padding: 14px 0;
  border: none;
  border-bottom: 1px solid rgba(255,255,255,.08);
  background: transparent;
  border-radius: 0;
  text-align: left;
  cursor: pointer;
  transition: color .18s ease;
}
body.home .svc-item .svc-meta{ color: rgba(255,255,255,.55); font-size: 12px; letter-spacing: .08em; text-transform: uppercase; }
body.home .svc-item.is-active{ color: rgba(255,255,255,.98); }
body.home .svc-item.is-active .svc-title{
  color: rgba(255,255,255,.98);
}
body.home .svc-item:hover{ color: rgba(255,255,255,.98); }

/* preview stays as the “one hero card” */
body.home .services-preview,
body.home .svc-preview,
body.home .services-preview{
  background: var(--h-surface);
  border: 1px solid var(--h-border);
  border-radius: var(--h-radius-lg);
  overflow: hidden;
}
body.home .svc-preview-media,
body.home .services-preview .svc-preview-media{
  aspect-ratio: 16 / 9;
  overflow:hidden;
}
body.home .svc-preview-media img{
  width:100%; height:100%; object-fit:cover; display:block;
}
body.home .svc-preview-body{
  padding: 18px 18px 20px;
}
body.home .svc-preview-title{ font-family: var(--font-keep, "Syne", sans-serif); letter-spacing: .04em; text-transform: uppercase; }
body.home .pill{
  border: 1px solid rgba(255,255,255,.14);
  background: transparent;
}

/* media cards below services: turn into “frames” not boxes */
body.home .services-media{ margin-top: 22px; }
body.home .media-card{
  background: transparent;
  border: 1px solid rgba(255,255,255,.10);
  border-radius: var(--h-radius);
  overflow:hidden;
}
body.home .media-card__img{ aspect-ratio: 16/9; }
body.home .media-card__img img{ width:100%; height:100%; object-fit:cover; display:block; }
body.home .media-card__txt{
  padding: 14px 14px 16px;
}
body.home .media-card--accent{
  background: linear-gradient(135deg, rgba(224,70,51,.18), rgba(255,255,255,0));
  border-color: rgba(224,70,51,.35);
}

/* --------- Numbers: reduce “cards”, make it like editorial stats --------- */
body.home #numbers .stat{
  background: transparent !important;
  border: none !important;
  border-bottom: 1px solid rgba(255,255,255,.08);
  border-radius: 0 !important;
  padding: 16px 0 !important;
}
body.home #numbers .stat-num{
  font-family: var(--font-keep, "Syne", sans-serif);
  letter-spacing: .06em;
  text-transform: uppercase;
  font-size: clamp(36px, 4vw, 58px);
}
body.home #numbers .stat--accent{
  padding: 18px 0 !important;
  border-bottom-color: rgba(224,70,51,.35);
}

/* --------- Stages: make list feel like “timeline” --------- */
body.home #stages .stage-item{
  background: transparent;
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 18px;
}
body.home #stages .stage-item.is-active{
  border-color: rgba(224,70,51,.45);
  background: linear-gradient(135deg, rgba(224,70,51,.12), rgba(255,255,255,0));
}
body.home #stages .stages-preview{
  border-radius: var(--h-radius-lg);
  border: 1px solid rgba(255,255,255,.10);
  overflow:hidden;
  background: var(--h-surface);
}

/* --------- Value / Workflow: stop looking like repeated cards --------- */
body.home #value .value-card,
body.home #workflow .wf-step{
  background: transparent !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  border-radius: var(--h-radius) !important;
}
body.home #value .value-card{
  padding: 18px 18px 20px;
}
body.home #value .value-card:not(.value-card--accent){
  border-color: rgba(255,255,255,.08) !important;
}
body.home #value .value-card--accent{
  background: linear-gradient(135deg, rgba(224,70,51,.18), rgba(255,255,255,0)) !important;
  border-color: rgba(224,70,51,.38) !important;
}

/* workflow steps get a connector on desktop */
@media (min-width: 980px){
  body.home #workflow .workflow-grid{
    position: relative;
  }
  body.home #workflow .workflow-grid::before{
    content:"";
    position:absolute;
    left: 0;
    right: 0;
    top: 54px;
    height: 1px;
    background: rgba(255,255,255,.08);
    pointer-events:none;
  }
  body.home #workflow .wf-step{ position: relative; }
  body.home #workflow .wf-step::before{
    content:"";
    position:absolute;
    left: 18px;
    top: 46px;
    width: 10px;
    height: 10px;
    border-radius: 99px;
    background: var(--h-accent);
    box-shadow: 0 0 0 6px rgba(224,70,51,.14);
  }
}

/* --------- FAQ: give it “premium disclosure” --------- */
body.home #faq .faq-item{
  background: transparent !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  border-radius: 18px !important;
}
body.home #faq .faq-item summary{
  list-style: none;
}
body.home #faq .faq-item summary::-webkit-details-marker{ display:none; }
body.home #faq .faq-item summary{
  position: relative;
  padding-right: 44px;
}
body.home #faq .faq-item summary::after{
  content: "+";
  position:absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  width: 28px;
  height: 28px;
  display:grid;
  place-items:center;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  color: rgba(255,255,255,.78);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
body.home #faq .faq-item[open] summary::after{ content: "–"; }

/* --------- subtle reveal on scroll (no gimmicks) --------- */
body.home .reveal{
  opacity: 0;
  transform: translateY(14px);
  transition: opacity .55s ease, transform .55s ease;
}
body.home .reveal.is-inview{
  opacity: 1;
  transform: translateY(0);
}

/* --------- stinger overlay --------- */
body.home .stinger{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  opacity: 0;
  transition: opacity .18s ease;
}
body.home .stinger.is-on{ opacity: 1; }
body.home .stinger__panel{
  position:absolute;
  inset: 0;
  background: #050506;
  transform: translateX(-100%);
}
body.home .stinger.is-on .stinger__panel{
  animation: stingerWipe .45s cubic-bezier(.2,.9,.2,1) forwards;
}
@keyframes stingerWipe{
  0%{ transform: translateX(-100%); }
  60%{ transform: translateX(0); }
  100%{ transform: translateX(110%); }
}
body.home .stinger__txt{
  position:absolute;
  left: 24px;
  bottom: 22px;
  font-family: var(--font-keep, "Syne", sans-serif);
  letter-spacing: .14em;
  text-transform: uppercase;
  font-size: 14px;
  color: rgba(255,255,255,.70);
}

/* =====================================================================
   MAGNETLOVER-INSPIRED PROJECTS BLOCK (REF-COPY)
   Goal: square panel + internal frame lines + 16:9 grid + sticker packs
   ===================================================================== */

body.home{
  --ml-red: var(--h-accent);
  --ml-white: rgba(255,255,255,.92);
  --ml-blue: #2B7CFF;
  --ml-sun: #F4D35E;
  --ml-cream: #EFE7DD;
  --ml-line: rgba(255,255,255,.10);
  --ml-line-strong: rgba(255,255,255,.16);
  --ml-panel-bg: rgba(7,8,10,.86);
}

body.home .ml-projects{
  position: relative;
  padding: clamp(40px, 5vw, 74px) 0;
  overflow: visible;
}

/* colored rail behind the whole block */
body.home .ml-projects__rails{
  position:absolute;
  inset: -80px 0 -80px 0;
  pointer-events:none;
  z-index: 0;
  opacity: .85;
}
body.home .ml-rail{
  position:absolute;
  filter: drop-shadow(0 12px 34px rgba(0,0,0,.55));
}
body.home .ml-rail--v{
  left: 50%;
  top: 0;
  height: 100%;
  width: 44px;
  transform: translateX(-50%) scaleY(.02);
  transform-origin: top;
  border-radius: 14px;
  background: linear-gradient(90deg,
    var(--ml-red) 0 25%,
    rgba(255,255,255,.95) 25% 50%,
    var(--ml-blue) 50% 75%,
    var(--ml-sun) 75% 100%
  );
  opacity: .95;
}

body.home .ml-projects.is-in .ml-rail--v{ transform: translateX(-50%) scaleY(1); transition: transform .9s cubic-bezier(.2,.9,.2,1); }

body.home .ml-panel{
  position: relative;
  z-index: 1;
  border-radius: 24px; /* "квадратнее" чем старые блоки */
  background:
    radial-gradient(1200px 520px at 60% 0%, rgba(255,255,255,.06), rgba(255,255,255,0) 60%),
    linear-gradient(180deg, rgba(255,255,255,.045), rgba(255,255,255,.015)),
    var(--ml-panel-bg);
  border: 1px solid var(--ml-line-strong);
  box-shadow:
    0 24px 90px rgba(0,0,0,.55),
    inset 0 1px 0 rgba(255,255,255,.08);
  padding: clamp(22px, 3vw, 42px);
  overflow: hidden;
}

/* inner frame lines (NOT a grid) */
body.home .ml-panel__lines{
  position:absolute;
  inset: 0;
  pointer-events:none;
  z-index: 0;
}
body.home .ml-line{
  position:absolute;
  background: var(--ml-line);
  opacity: .9;
}
/* main horizontal lines */
body.home .ml-line--top{ left: 0; right: 0; top: 72px; height: 1px; transform: scaleX(0); transform-origin: left; }
body.home .ml-line--head{ left: 0; right: 0; top: 196px; height: 1px; transform: scaleX(0); transform-origin: left; }
body.home .ml-line--mid{ left: 0; right: 0; bottom: 86px; height: 1px; transform: scaleX(0); transform-origin: left; }
body.home .ml-line--bottom{ left: 0; right: 0; bottom: 0; height: 1px; opacity: .55; transform: scaleX(0); transform-origin: left; }
/* vertical center divider */
body.home .ml-line--v{ top: 0; bottom: 0; left: 50%; width: 1px; transform: scaleY(0); transform-origin: top; opacity: .55; }

body.home .ml-projects.is-in .ml-line--top,
body.home .ml-projects.is-in .ml-line--head,
body.home .ml-projects.is-in .ml-line--mid,
body.home .ml-projects.is-in .ml-line--bottom{ transform: scaleX(1); transition: transform .85s cubic-bezier(.2,.9,.2,1); }
body.home .ml-projects.is-in .ml-line--v{ transform: scaleY(1); transition: transform .95s cubic-bezier(.2,.9,.2,1); }

/* small 4-color bar above title (inside panel) */
body.home .ml-panel__stripe{
  position:absolute;
  left: 50%;
  top: 26px;
  width: 210px;
  height: 6px;
  border-radius: 999px;
  transform: translateX(-50%) scaleX(.05);
  transform-origin: center;
  background: linear-gradient(90deg,
    var(--ml-red) 0 25%,
    rgba(255,255,255,.95) 25% 50%,
    var(--ml-blue) 50% 75%,
    var(--ml-sun) 75% 100%
  );
  opacity: .95;
  box-shadow: 0 10px 28px rgba(0,0,0,.55);
}
body.home .ml-projects.is-in .ml-panel__stripe{ transform: translateX(-50%) scaleX(1); transition: transform .7s cubic-bezier(.2,.9,.2,1) .12s; }

body.home .ml-head{
  position: relative;
  z-index: 1;
  padding-top: 52px;
  max-width: 640px;
}
body.home .ml-kicker{
  font-size: 12px;
  letter-spacing: .14em;
  text-transform: uppercase;
  color: rgba(255,255,255,.60);
  margin-bottom: 10px;
}
body.home .ml-title{
  font-family: var(--font-keep, "Syne", sans-serif);
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: -0.02em;
  line-height: .92;
  margin: 0;
  color: var(--ml-cream);
  font-size: clamp(44px, 6.2vw, 92px);
}
body.home .ml-sub{
  margin: 16px 0 0;
  color: rgba(255,255,255,.62);
  font-size: 14px;
  line-height: 1.45;
  max-width: 46ch;
}

/* Projects grid 3 / 2, 16:9 */
body.home .ml-grid{
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 22px;
  margin-top: 34px;
}

body.home .ml-card{
  display: block;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.02);
  box-shadow: 0 18px 54px rgba(0,0,0,.42);
  transform: translateY(0);
  transition: transform .25s ease, border-color .25s ease, background .25s ease;
}
body.home .ml-card:hover{
  transform: translateY(-6px);
  border-color: rgba(255,255,255,.18);
  background: rgba(255,255,255,.03);
}

body.home .ml-media{ aspect-ratio: 16 / 9; background: rgba(18,20,31,.55); }
body.home .ml-media img{ width: 100%; height: 100%; object-fit: cover; display: block; }

body.home .ml-meta{
  padding: 12px 14px;
  font-size: 12px;
  letter-spacing: .12em;
  text-transform: uppercase;
  color: rgba(255,255,255,.70);
}

body.home .ml-actions{
  position: relative;
  z-index: 1;
  display:flex;
  justify-content:center;
  margin-top: 22px;
  padding-top: 18px;
}

body.home .ml-btn{
  display:inline-flex;
  align-items:center;
  gap: 10px;
  padding: 12px 16px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
  color: rgba(255,255,255,.80);
  text-decoration: none;
  font-size: 13px;
  letter-spacing: .06em;
  transition: background .25s ease, border-color .25s ease, transform .25s ease;
}
body.home .ml-btn:hover{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.22);
  transform: translateY(-2px);
}

/* Sticker packs: mix of text “magnets” (images can be swapped later) */
body.home .ml-stickers{ position:absolute; inset: 0; pointer-events:none; z-index: 2; }
body.home .ml-sticker{
  position:absolute;
  width: 92px;
  height: 92px;
  border-radius: 18px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family: var(--font-keep, "Syne", sans-serif);
  font-weight: 800;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: 12px;
  color: rgba(0,0,0,.82);
  box-shadow: 0 22px 60px rgba(0,0,0,.55);
  border: 1px solid rgba(255,255,255,.22);
}
body.home .ml-sticker--pink{ background: linear-gradient(180deg, #ff53b6, #ff2f90); left: 34px; top: 86px; transform: rotate(-10deg); }
body.home .ml-sticker--blue{ background: linear-gradient(180deg, #6fe3ff, #2bbcff); left: 52px; top: 196px; transform: rotate(8deg); }
body.home .ml-sticker--yellow{ background: linear-gradient(180deg, #ffe7a2, var(--ml-sun)); right: 40px; top: 92px; transform: rotate(10deg); }
body.home .ml-sticker--white{ background: linear-gradient(180deg, #ffffff, #e7e7e7); right: 66px; top: 204px; transform: rotate(-8deg); }

/* responsive */
@media (max-width: 980px){
  body.home .ml-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  body.home .ml-line--v{ display:none; }
}
@media (max-width: 620px){
  body.home .ml-panel{ padding: 18px; border-radius: 20px; }
  body.home .ml-panel__stripe{ width: 160px; }
  body.home .ml-line--top{ top: 64px; }
  body.home .ml-line--head{ top: 180px; }
  body.home .ml-grid{ grid-template-columns: 1fr; gap: 16px; }
  body.home .ml-sticker{ width: 74px; height: 74px; border-radius: 16px; font-size: 11px; }
  body.home .ml-sticker--pink{ left: 14px; top: 74px; }
  body.home .ml-sticker--blue{ left: 18px; top: 158px; }
  body.home .ml-sticker--yellow{ right: 14px; top: 78px; }
  body.home .ml-sticker--white{ right: 18px; top: 160px; }
}
