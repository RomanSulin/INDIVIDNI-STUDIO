:root{
  --bg:#0b0b0b;
  --bg2:#111;
  --text:#fff;
  --muted:rgba(255,255,255,.72);
  --muted2:rgba(255,255,255,.5);
  --border:rgba(255,255,255,.12);

  --container:1120px;
  --radius:16px;
  --shadow:0 20px 60px rgba(0,0,0,.55);

  --header-h:78px;
}

*{box-sizing:border-box}
html{
  scroll-behavior:smooth;
  scroll-padding-top:calc(var(--header-h) + 16px);
}
body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
}

/* ВАЖНО: курсор прячем только когда JS включил режим cursor-on */
body.cursor-on, body.cursor-on a, body.cursor-on button { cursor:none; }

a{color:inherit;text-decoration:none}
.container{width:min(var(--container), calc(100% - 40px));margin:0 auto}
.muted{color:var(--muted)}
.note{color:var(--muted2);font-size:.95rem;margin-top:14px}

a:focus-visible, button:focus-visible{
  outline:2px solid rgba(255,255,255,.9);
  outline-offset:4px;
  border-radius:10px;
}

/* Header */
.site-header{
  position:fixed;
  inset:0 0 auto 0;
  height:var(--header-h);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:18px;
  padding:18px 20px;
  z-index:1000;

  background:rgba(0,0,0,0);
  border-bottom:1px solid transparent;
  transition:background .25s ease, backdrop-filter .25s ease, border-color .25s ease;
}
.site-header.scrolled{
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(10px);
  border-bottom-color:rgba(255,255,255,.08);
}

.logo{
  font-family:Montserrat, Inter, system-ui, sans-serif;
  font-weight:600;
  letter-spacing:.22em;
  text-transform:uppercase;
  font-size:14px;
}

.nav{display:flex;align-items:center;gap:18px}
.nav-list{
  display:flex;
  align-items:center;
  list-style:none;
  padding:0;margin:0;
  gap:26px;
}
.nav-list a{
  font-family:Montserrat, Inter, system-ui, sans-serif;
  text-transform:uppercase;
  font-weight:500;
  font-size:13px;
  letter-spacing:.08em;
  color:rgba(255,255,255,.88);
  position:relative;
  display:inline-block;
  transition:transform .2s ease,color .2s ease;
}
.nav-list a::after{
  content:"";
  position:absolute;
  left:0;
  bottom:-8px;
  height:2px;
  width:0;
  background:linear-gradient(90deg, rgba(255,255,255,.95), rgba(255,255,255,.25));
  transition:width .2s ease;
}
.nav-list a:hover{transform:translateY(-2px);color:#fff}
.nav-list a:hover::after{width:100%}

/* Mobile menu */
.nav-toggle{
  display:none;
  width:44px;height:44px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.04);
  padding:10px;
  cursor:pointer;
}
.nav-toggle__line{
  display:block;
  height:2px;
  margin:6px 0;
  background:rgba(255,255,255,.85);
}
.sr-only{
  position:absolute;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

@media (max-width:900px){
  .nav-toggle{display:inline-flex;align-items:center;justify-content:center}
  .nav-list{
    position:fixed;
    left:20px;right:20px;
    top:calc(var(--header-h) + 12px);
    background:rgba(0,0,0,.78);
    backdrop-filter:blur(12px);
    border:1px solid rgba(255,255,255,.12);
    border-radius:16px;
    padding:16px;
    flex-direction:column;
    gap:14px;
    transform:translateY(-8px);
    opacity:0;
    pointer-events:none;
    transition:opacity .2s ease, transform .2s ease;
  }
  .site-header.nav-open .nav-list{
    opacity:1;
    transform:translateY(0);
    pointer-events:auto;
  }
  .site-header .btn{display:none;}
}

/* Buttons */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:12px 18px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.05);
  color:rgba(255,255,255,.92);
  transition:transform .2s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
  font-weight:600;
  font-size:14px;
}
.btn:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 30px rgba(0,0,0,.35);
}
.btn--primary{
  background:linear-gradient(180deg, rgba(255,42,42,.22), rgba(139,0,0,.28));
  border-color:rgba(255,42,42,.35);
}
.btn--primary:hover{
  border-color:rgba(255,42,42,.55);
  background:linear-gradient(180deg, rgba(255,42,42,.30), rgba(139,0,0,.35));
}
.btn--outline{
  background:transparent;
  border-color:rgba(255,255,255,.22);
}

/* Hero */
.hero{
  position:relative;
  min-height:100vh;
  display:grid;
  align-items:center;
  background:
    radial-gradient(1100px 600px at 20% 10%, rgba(255,42,42,.16), transparent 55%),
    radial-gradient(900px 500px at 80% 60%, rgba(255,255,255,.06), transparent 60%),
    url('https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?auto=format&fit=crop&w=2400&q=70') center/cover no-repeat;
}
.overlay{
  position:absolute;inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.75));
}
.hero-content{
  position:relative;z-index:1;
  padding:calc(var(--header-h) + 64px) 0 64px;
  text-align:center;
}
.kicker{
  display:inline-block;
  margin:0 0 14px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(0,0,0,.28);
  color:rgba(255,255,255,.82);
  font-size:12px;
  letter-spacing:.12em;
  text-transform:uppercase;
}
.hero h1{
  margin:0;
  font-size:clamp(2.2rem, 5vw, 4rem);
  font-weight:800;
  letter-spacing:.18em;
  text-transform:uppercase;
}
.lead{
  margin:18px auto 0;
  max-width:780px;
  color:rgba(255,255,255,.78);
  font-size:1.05rem;
}
.hero-actions{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:26px;
}
.hero-badges{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:30px;
  color:rgba(255,255,255,.72);
  font-size:13px;
}
.hero-badges span{
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.22);
}

/* Sections */
.section{padding:96px 0;}
.section.dark{
  background:var(--bg2);
  border-top:1px solid rgba(255,255,255,.06);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.section h2{margin:0 0 18px;font-size:2.1rem;letter-spacing:.02em;}

.grid{
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:18px;
  margin-top:26px;
}
@media (max-width:1000px){ .grid{grid-template-columns:repeat(2,1fr);} }
@media (max-width:560px){ .grid{grid-template-columns:1fr;} }

.grid-2{
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:22px;
  align-items:start;
}
@media (max-width:900px){ .grid-2{grid-template-columns:1fr;} }

.card{
  padding:22px;
  border-radius:var(--radius);
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 14px 40px rgba(0,0,0,.25);
  transition:transform .2s ease, border-color .2s ease, background .2s ease;
}
.card:hover{
  transform:translateY(-4px);
  border-color:rgba(255,255,255,.18);
  background:rgba(255,255,255,.06);
}
.card h3{margin:0 0 8px;font-size:1.05rem;}

.panel{
  padding:22px;
  border-radius:var(--radius);
  background:rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:var(--shadow);
}
.panel h3{margin:0 0 12px;}

.list{list-style:none;padding:0;margin:16px 0 0;}
.list li{
  padding-left:14px;
  margin:10px 0;
  border-left:3px solid rgba(255,42,42,.55);
  color:rgba(255,255,255,.80);
}

.chips{display:flex;flex-wrap:wrap;gap:10px;}
.chips span{
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.04);
  font-size:13px;
  color:rgba(255,255,255,.78);
}

/* Video */
.video-embed{
  position:relative;
  margin-top:22px;
  border-radius:var(--radius);
  overflow:hidden;
  border:1px solid rgba(255,255,255,.12);
  box-shadow:var(--shadow);
  background:#000;
}
.video-embed::before{content:"";display:block;padding-top:56.25%;}
.video-embed iframe{position:absolute;inset:0;width:100%;height:100%;}

/* Works */
.works{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:18px;
  margin-top:26px;
}
@media (max-width:1000px){ .works{grid-template-columns:1fr;} }

.work{
  border-radius:var(--radius);
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
  transition:transform .2s ease, border-color .2s ease;
}
.work:hover{transform:translateY(-4px);border-color:rgba(255,255,255,.18);}
.work__thumb{
  height:180px;
  background:
    radial-gradient(700px 240px at 30% 30%, rgba(255,42,42,.20), transparent 55%),
    linear-gradient(135deg, rgba(255,255,255,.08), rgba(0,0,0,0));
}
.work__meta{padding:16px;display:grid;gap:4px;}

/* Contacts */
.contact-actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:18px;}
.steps{margin:0;padding-left:18px;color:rgba(255,255,255,.80);}
.steps li{margin:10px 0;}

/* Footer */
.footer{
  padding:28px 0;
  border-top:1px solid rgba(255,255,255,.08);
  background:#000;
}
.footer-inner{
  display:flex;
  justify-content:space-between;
  gap:18px;
  flex-wrap:wrap;
}

/* Reveal */
/* Reveal: без JS всё видно */
.reveal { opacity: 1; transform: none; }

/* Анимация только когда JS загрузился */
.js .reveal{
  opacity: 0;
  transform: translateY(14px);
  transition: opacity .6s ease, transform .6s ease;
}
.js .reveal.is-visible{
  opacity: 1;
  transform: none;
}



/* ===== Spotlight cursor (warm cinematic beam) ===== */
#custom-cursor{
  display:none;
  position:fixed;
  top:0; left:0;
  width:18px; height:18px;
  pointer-events:none;
  transform:translate(-50%, -50%);
  z-index:10000;
  --angle: 0deg;
}

body.cursor-on #custom-cursor{ display:block; }

/* источник света (тёплый) */
#custom-cursor .core{
  position:absolute;
  inset:0;
  border-radius:999px;
  background: rgba(255, 236, 200, 0.95);
  box-shadow:
    0 0 10px rgba(255, 220, 160, 0.55),
    0 0 30px rgba(255, 200, 120, 0.22),
    0 0 80px rgba(255, 170, 80, 0.14);
  opacity: 0.9;
}

/* конус света (тёплый) */
#custom-cursor .beam{
  position:absolute;
  left:0;
  top:50%;
  width:520px;
  height:320px;
  transform-origin: 0% 50%;
  transform: translateY(-50%) rotate(var(--angle));
  clip-path: polygon(0 50%, 100% 0, 100% 100%);

  background:
    radial-gradient(closest-side at 0% 50%,
      rgba(255, 214, 140, 0.30),
      rgba(255, 194, 110, 0.16) 35%,
      rgba(255, 170, 80, 0.07) 60%,
      rgba(255, 160, 70, 0.00) 100%),
    linear-gradient(90deg,
      rgba(255, 200, 120, 0.18),
      rgba(255, 170, 80, 0.00) 70%);

  filter: blur(2px);
  opacity: 0.70;
  mix-blend-mode: screen;
}

/* усиление при наведении */
body.hovered #custom-cursor .beam{ opacity: 0.85; filter: blur(1.5px); }
body.hovered #custom-cursor .core{ opacity: 1; }

/* на мобилках выключаем */
@media (hover:none), (pointer:coarse){
  #custom-cursor{ display:none !important; }
}


  .reveal{opacity:1;transform:none;transition:none;}
}

/* ===== Showreel window (modern street, not bulky) ===== */
.showreel-head{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 14px;
  flex-wrap: wrap;
}

.showreel-window{
  position: relative;
  margin-top: 16px;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: var(--shadow);
  background: #000;
  transform: rotate(-0.4deg);
}

.showreel-video{
  width: 100%;
  height: auto;
  display: block;
}

.showreel-sticker{
  position:absolute;
  top: 14px;
  left: 14px;
  z-index: 3;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.35);
  color: rgba(255,236,200,0.92);
  font-size: 12px;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  backdrop-filter: blur(10px);
}

.grain{
  position:absolute;
  inset:0;
  z-index: 2;
  pointer-events:none;
  opacity: 0.10;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
}

.scanlines{
  position:absolute;
  inset:0;
  z-index: 2;
  pointer-events:none;
  opacity: 0.08;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.10),
    rgba(255,255,255,0.10) 1px,
    rgba(0,0,0,0.0) 3px,
    rgba(0,0,0,0.0) 6px
  );
  mix-blend-mode: soft-light;
}

/* ===== Jelly sound button ===== */
.sound-btn{
  --bg: rgba(0,0,0,0.35);
  --bd: rgba(255,255,255,0.18);
  --tx: rgba(255,255,255,0.92);

  display: inline-flex;
  align-items: center;
  gap: 10px;

  padding: 10px 14px;
  border-radius: 14px;

  border: 1px solid var(--bd);
  background: var(--bg);
  color: var(--tx);

  cursor: pointer;
  user-select: none;
  position: relative;
  overflow: hidden;

  transition:
    background .25s ease,
    border-color .25s ease,
    color .25s ease,
    border-radius .35s ease,
    padding .35s ease,
    box-shadow .35s ease,
    transform .2s ease;
}

.sound-btn:hover{ transform: translateY(-1px); }

.sound-btn::before{
  content:"";
  position:absolute;
  inset:-40% -20%;
  background: radial-gradient(circle at 30% 30%, rgba(255,236,200,0.22), transparent 55%);
  opacity: 0;
  transition: opacity .25s ease;
}
.sound-btn:hover::before{ opacity: 1; }

.sound-btn__dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(255,236,200,0.85);
  box-shadow: 0 0 10px rgba(255,200,120,0.35);
  flex: 0 0 auto;
}

.sound-btn__text{
  position: relative;
  z-index: 1;
  font-weight: 600;
  letter-spacing: 0.02em;
}

/* ON state */
.sound-btn.is-on{
  --bg: rgba(255, 200, 120, 0.16);
  --bd: rgba(255, 200, 120, 0.38);
  --tx: rgba(255, 236, 200, 0.98);

  padding: 11px 16px;
  border-radius: 999px;
  box-shadow:
    0 14px 40px rgba(0,0,0,0.35),
    0 0 40px rgba(255, 190, 95, 0.12);
}

.sound-btn.is-on .sound-btn__dot{
  background: rgba(255, 180, 80, 0.95);
  box-shadow:
    0 0 14px rgba(255, 180, 80, 0.45),
    0 0 40px rgba(255, 150, 60, 0.18);
}

/* Jelly animation */
@keyframes jelly {
  0%   { transform: scale(1); }
  30%  { transform: scaleX(1.14) scaleY(0.90); }
  55%  { transform: scaleX(0.92) scaleY(1.10); }
  75%  { transform: scaleX(1.05) scaleY(0.96); }
  100% { transform: scale(1); }
}
.sound-btn.jelly{
  animation: jelly 420ms cubic-bezier(.2,.9,.2,1);
}

/* ===== TRASHY BLOB SOUND BUTTON ===== */
.sound-blob{
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 10px;

  padding: 12px 16px;
  border: 0;
  background: transparent;
  color: rgba(255, 245, 225, 0.96);
  cursor: pointer;

  /* неровная форма */
  border-radius: 34% 66% 44% 56% / 55% 38% 62% 45%;
  transform-origin: 50% 50%;

  /* "жидкая" тень */
  filter: drop-shadow(0 16px 40px rgba(0,0,0,0.45));
  transition: transform .18s ease;
  user-select: none;
  overflow: visible;
}

.sound-blob:hover{ transform: translateY(-2px); }
.sound-blob:active{ transform: translateY(0px) scale(0.98); }

.sound-blob__bg{
  position:absolute;
  inset:-2px;
  z-index:0;
  border-radius: inherit;

  /* тёплый кино-градиент */
  background:
    radial-gradient(120px 90px at 30% 30%, rgba(255, 220, 155, 0.45), transparent 60%),
    radial-gradient(140px 110px at 75% 70%, rgba(255, 150, 80, 0.25), transparent 62%),
    linear-gradient(135deg, rgba(0,0,0,0.55), rgba(0,0,0,0.18));

  border: 1px solid rgba(255, 220, 160, 0.22);
  backdrop-filter: blur(10px);

  /* “жидкое” движение */
  animation: blobFloat 3.2s ease-in-out infinite;
}

.sound-blob__shine{
  position:absolute;
  inset:-35%;
  z-index:0;
  border-radius: inherit;
  background: conic-gradient(
    from 30deg,
    rgba(255, 236, 200, 0.00),
    rgba(255, 236, 200, 0.22),
    rgba(255, 170, 80, 0.10),
    rgba(255, 236, 200, 0.00)
  );
  opacity: 0.55;
  mix-blend-mode: screen;
  filter: blur(14px);
  animation: shineSpin 2.4s linear infinite;
}

.sound-blob__dot{
  width: 11px;
  height: 11px;
  border-radius: 999px;
  background: rgba(255, 230, 170, 0.92);
  box-shadow:
    0 0 14px rgba(255, 190, 110, 0.55),
    0 0 40px rgba(255, 140, 60, 0.18);
  z-index:1;
  flex: 0 0 auto;
}

.sound-blob__text{
  z-index: 1;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 12px;
}

/* OFF → выглядит “грязнее/уличнее” */
.sound-blob.is-off .sound-blob__bg{
  border-color: rgba(255,255,255,0.14);
  background:
    radial-gradient(110px 90px at 25% 30%, rgba(255, 255, 255, 0.10), transparent 60%),
    radial-gradient(140px 120px at 70% 70%, rgba(255, 160, 70, 0.10), transparent 62%),
    linear-gradient(135deg, rgba(0,0,0,0.62), rgba(0,0,0,0.20));
}

.sound-blob.is-off .sound-blob__dot{
  background: rgba(255, 236, 200, 0.70);
  box-shadow: 0 0 10px rgba(255, 200, 120, 0.25);
}

.sound-blob.is-off .sound-blob__shine{ opacity: 0.35; }

/* ON → ярче, “ламповее”, активнее живёт */
.sound-blob.is-on{
  border-radius: 58% 42% 64% 36% / 52% 65% 35% 48%;
}
.sound-blob.is-on .sound-blob__bg{
  border-color: rgba(255, 200, 120, 0.42);
  animation: blobFloat 2.1s ease-in-out infinite;
}
.sound-blob.is-on .sound-blob__shine{
  opacity: 0.75;
  animation: shineSpin 1.35s linear infinite;
}
.sound-blob.is-on .sound-blob__dot{
  background: rgba(255, 160, 80, 0.98);
}

/* Сильная “желе” деформация при клике */
@keyframes blobJelly {
  0%   { transform: scale(1) rotate(0deg); border-radius: 34% 66% 44% 56% / 55% 38% 62% 45%; }
  25%  { transform: scaleX(1.22) scaleY(0.78) rotate(-6deg); border-radius: 70% 30% 52% 48% / 44% 66% 34% 56%; }
  55%  { transform: scaleX(0.82) scaleY(1.25) rotate(7deg); border-radius: 28% 72% 40% 60% / 70% 40% 60% 30%; }
  80%  { transform: scaleX(1.10) scaleY(0.92) rotate(-3deg); border-radius: 60% 40% 68% 32% / 46% 58% 42% 54%; }
  100% { transform: scale(1) rotate(0deg); border-radius: 34% 66% 44% 56% / 55% 38% 62% 45%; }
}

.sound-blob.jelly { animation: blobJelly 520ms cubic-bezier(.2,1,.2,1); }

@keyframes blobFloat{
  0%,100% { transform: translateY(0px) rotate(0deg); }
  50%     { transform: translateY(-2px) rotate(0.6deg); }
}

@keyframes shineSpin{
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

/* accessibility */
.sound-blob:focus-visible{
  outline: 2px solid rgba(255, 236, 200, 0.85);
  outline-offset: 4px;
}

/* если reduce motion — без треша */
@media (prefers-reduced-motion: reduce){
  .sound-blob__bg, .sound-blob__shine{ animation: none !important; }
  .sound-blob.jelly{ animation: none !important; }
}

/* ===== Убираем фон ===== */
.hero.hero-cold{
  background: #050505 !important;
  background-image: none !important;
}


/* ===== HERO (no frame, BIG, hover reveal) ===== */
.hero.hero-cold{
  min-height: 100svh;
  padding-top: calc(var(--header-h, 76px) + 6px);
  background: #050505 !important;
  background-image: none !important;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  overflow: hidden;
}

.hero-stage{
  /* переменные для “света” */
  --reveal-x: 50%;
  --reveal-y: 50%;
  --reveal-r: 0px;

  width: min(1900px, 98vw);
  height: min(980px, 86vh);
  position: relative;

  /* УБИРАЕМ ПАНЕЛЬ/РАМКУ */
  border: none !important;
  border-radius: 0 !important;
  background: transparent !important;
  box-shadow: none !important;

  /* подтянуть композицию ближе к меню */
  margin-top: 10px;
}

/* ЛОГО */
.hero-logo{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: auto;
  transform: translateY(-10px);
}

.logo-layer{
  position:absolute;
  width: min(2000px, 98vw); /* ЛОГО x2 */
  height:auto;
  pointer-events:none;
}

.logo-layer.base{
  opacity: .92;
  filter: drop-shadow(0 30px 90px rgba(0,0,0,0.75));
}

.logo-layer.reveal{
  opacity: 0.98;
  mix-blend-mode: screen;
  filter: drop-shadow(0 0 80px rgba(255,160,70,0.10)) saturate(1.05) contrast(1.06);

  /* МЯГКОЕ “СВЕТОВОЕ” ПРОЯВЛЕНИЕ */
  -webkit-mask-image: radial-gradient(circle var(--reveal-r) at var(--reveal-x) var(--reveal-y),
    rgba(0,0,0,1) 0%,
    rgba(0,0,0,0) 70%);
  mask-image: radial-gradient(circle var(--reveal-r) at var(--reveal-x) var(--reveal-y),
    rgba(0,0,0,1) 0%,
    rgba(0,0,0,0) 70%);

  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;

  /* fallback */
  clip-path: circle(var(--reveal-r) at var(--reveal-x) var(--reveal-y));
  transition: -webkit-mask-image .12s linear, mask-image .12s linear, clip-path .12s linear;
}

/* теплый “ореол” вокруг пятна */
.reveal-glow{
  position:absolute;
  width: 700px;
  height: 700px;
  left: var(--reveal-x);
  top: var(--reveal-y);
  transform: translate(-50%, -50%);
  pointer-events:none;
  opacity: 0;
  background: radial-gradient(circle at 50% 50%,
    rgba(255, 200, 120, 0.18),
    rgba(255, 170, 90, 0.08) 35%,
    rgba(0,0,0,0) 70%);
  filter: blur(10px);
  transition: opacity .25s ease;
}

.hero-stage.is-hover .reveal-glow{ opacity: 1; }
.hero-stage.is-hover{ --reveal-r: 360px; } /* “фонарь” */
.hero-stage.is-hover.is-open{ --reveal-r: 460px; } /* если хлопушка открыта — больше света */

/* HUD (делаем крупнее) */
.hero-hud{
  position:absolute;
  inset: 12px;
  pointer-events:none;
}
.hero-hud .hud{
  position:absolute;
  width:auto;
  height: 86px; /* x~1.5-2 */
  opacity: .9;
  filter: drop-shadow(0 12px 30px rgba(0,0,0,0.65));
}

.hero-hud .rec{ left: 12px; top: 10px; height: 80px; }
.hero-hud .fps{ right: 12px; top: 10px; height: 80px; opacity: .75; }
.hero-hud .iso{ left: 12px; bottom: 10px; height: 82px; opacity: .45; }
.hero-hud .tc{ right: 12px; bottom: 10px; height: 92px; opacity: .95; }

/* REC мигает, когда есть жизнь */
@keyframes recBlink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: .25; }
}
.hero-stage.is-hover .hero-hud .rec{
  animation: recBlink 1s steps(1,end) infinite;
}

/* NOTES / TAPE — ОЧЕНЬ БОЛЬШИЕ + РАЗБРОСАНЫ */
.hero-notes{
  position:absolute;
  inset:0;
  pointer-events:none;
}
.hero-notes .note{
  position:absolute;
  filter: drop-shadow(0 24px 60px rgba(0,0,0,0.70));
  opacity: .92;
}

/* скотч x8 и не “строем” */
.note.tape1{
  left: 10%;
  top: 18%;
  width: 620px;
  transform: rotate(-22deg);
}
.note.tape2{
  right: 8%;
  bottom: 16%;
  width: 720px;
  transform: rotate(18deg);
}

/* пометки крупнее (x~5) */
.note.keep{
  left: 6%;
  top: 54%;
  width: 520px;
  transform: rotate(-10deg);
}
.note.night{
  right: 6%;
  top: 40%;
  width: 620px;
  transform: rotate(7deg);
}

/* ХЛОПУШКА x4 */
.clap{
  position:absolute;
  right: -40px;
  bottom: -30px;

  width: clamp(520px, 46vw, 980px);
  aspect-ratio: 1.18 / 1;

  border: 0;
  background: transparent;
  padding: 0;
  cursor: pointer;
  user-select:none;

  z-index: 6;
  filter: drop-shadow(0 26px 80px rgba(0,0,0,0.75));
}

.clap img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit: contain;
  pointer-events:none;
}

/* открытие верхней части */
.clap-top{
  transform-origin: 22% 72%;
  transform: rotate(0deg);
  transition: transform .55s cubic-bezier(.2,.9,.2,1);
}

.clap.is-open .clap-top{
  transform: rotate(-72deg);
}

/* подсказка TAP + стрелка */
.clap-hint{
  position:absolute;
  left: 18%;
  top: 12%;
  transform: rotate(-10deg);
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.35);
  color: rgba(255,236,200,0.92);
  font-weight: 800;
  letter-spacing: .18em;
  font-size: 12px;
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 50px rgba(0,0,0,0.55);
}

@keyframes hintPulse{
  0%,100%{ transform: rotate(-10deg) translateY(0px); opacity: .85; }
  50%{ transform: rotate(-10deg) translateY(-5px); opacity: 1; }
}
.hero-stage:not(.hint-off) .clap-hint{ animation: hintPulse 1.2s ease-in-out infinite; }

/* маленький текстовый триггер */
.hero-hint{
  position:absolute;
  left: 50%;
  bottom: 34px;
  transform: translateX(-50%);
  text-align:center;
  pointer-events:none;
  opacity: .9;
}
.hero-hint span{
  display:block;
  font-weight: 900;
  letter-spacing: .22em;
  font-size: 12px;
  color: rgba(255,236,200,0.92);
}
.hero-hint small{
  display:block;
  margin-top: 6px;
  font-size: 12px;
  color: rgba(255,255,255,0.62);
}
.hero-stage.is-hover .hero-hint{ opacity: 0.25; }

/* mobile */
@media (max-width: 820px){
  .hero-stage{ height: min(900px, 86vh); }
  .logo-layer{ width: min(1600px, 120vw); }
  .note.tape1, .note.tape2{ width: 420px; }
  .note.keep{ width: 360px; }
  .note.night{ width: 420px; }
  .clap{ width: min(560px, 92vw); right: -26px; bottom: -22px; }
}
